webpackJsonp([12],{1039:function(t,n,e){var r=e(726);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);e(5)("875dca7a",r,!1)},1059:function(t,n,e){t.exports=e(492)},237:function(t,n,e){(function(n){t.exports={props:["total","numofpage"],data:function(){return{page:0,everypage:this.numofpage?this.numofpage:20}},computed:{totalPage:function(){return console.log("pageCompo.vue>computed:>total pages:"),console.log(this.total),this.total?this.total-1:0}},methods:{init:function(){this.page=0,this.$emit("change",this.page)},pre:function(){this.page>0?(this.page--,this.$emit("change",this.page)):n.notify("前面没有了~",1)},next:function(){this.page>=this.totalPage?n.notify("没有更多了~",1):(this.page++,this.$emit("change",this.page))},firtPage:function(){this.page>0?(this.page=0,this.$emit("change",0)):n.notify("已经是首页了~",1)},lastPage:function(){this.totalPage?(this.page=this.totalPage,this.$emit("change",this.totalPage)):n.notify("已经到底了~",1)}}}}).call(n,e(1))},399:function(t,n,e){var r=e(0)(e(237),e(436),null,null);r.options.__file="E:\\doclever_mlz\\Client\\web\\component\\pageCompo.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] pageCompo.vue: functional components are not supported with templates, they should use render functions."),t.exports=r.exports},436:function(t,n,e){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("el-row",{staticClass:"row",staticStyle:{"text-align":"center",height:"30px","line-height":"30px"}},[e("span",[t._v("共"+t._s(t.totalPage+1)+"页，每页"+t._s(t.everypage)+"条")]),t._v("   \n\t\t"),e("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-d-arrow-left"},on:{click:t.firtPage}}),t._v("\n\t\t   \n        "),e("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-arrow-left"},on:{click:t.pre}}),t._v("\n\t\t   "+t._s(t.page+1)+"   \n\t\t"),e("el-button",{staticStyle:{"margin-left":"0"},attrs:{type:"text",size:"small",icon:"el-icon-arrow-right"},on:{click:t.next}}),t._v("\n\t\t   \n\t\t"),t.totalPage?e("el-button",{staticStyle:{"margin-left":"0"},attrs:{type:"text",size:"small",icon:"el-icon-d-arrow-right"},on:{click:t.lastPage}}):t._e()],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},492:function(t,n,e){(function(t,n){new t({el:"#app",data:{id:"",info:{},tests:[]},directives:{},components:{statistics:e(826)},watch:{},computed:{},methods:{},created:function(){n.stopLoading()}});n.ready(function(){n.startLoading()})}).call(n,e(7),e(1))},646:function(t,n,e){(function(n){var r=e(399);t.exports={props:["info"],data:function(){return{periodDate:"",selPoll:"",pollList:[{name:"test1",_id:"111"},{name:"test2",_id:"222"}],arr:[],numOfPage:20}},directives:{},computed:{testPollArr:function(){return this.pollList.map(function(t){return{label:t.name,value:t._id}})}},components:{page:r},methods:{changePoll:function(){console.log("statistics.vue>changePoll>this.selPoll"),console.log(this.selPoll)},changePage:function(t){n.startHud()},query:function(){console.log("statistics.vue>query>this.periodDate"),console.log(this.periodDate),console.log("statistics.vue>query>this.selPoll"),console.log(this.selPoll),n.startHud()}},created:function(){}}}).call(n,e(1))},726:function(t,n,e){(t.exports=e(4)(!0)).push([t.i,"\n#content{\n    padding:10px 20px;\n}\n.table{\n    width: 100%;\n    padding: 10px;\n    display: table;\n    border-collapse: collapse;\n    border-spacing: 2px;\n    border:1px solid #cccccc;\n    border-radius: 5px;\n    box-shadow: 0 2px 4px 0 rgba(0,0,0,.12), 0 0 6px 0 rgba(0,0,0,.04);\n    background-color: white;\n}\n.table th{\n    background-color: #E0EEEE;\n}\n.table th,.table td{\n    vertical-align: middle;\n    padding: 5px;\n    text-align: center;\n    border:1px solid #cccccc;\n}\n.table-light{\n    border:1px solid #eeeeee;\n}\n.table-light th,.table-light td{\n    border:1px solid #eeeeee;\n}\n.box-shadow{\n    border-radius: 5px;\n    box-shadow: 0 2px 4px 0 rgba(0,0,0,.12), 0 0 6px 0 rgba(0,0,0,.24);\n    background-color: white;\n}\n.clear{\n    height:20px;\n    clear: both;\n}\n.line-num{\n    background-color: #eeeeee;\n    width: 15px;\n}\n.testname{\n    color:blue;\n    cursor: pointer;\n}\n.testname:hover{\n    text-decoration: underline;\n}\n.el-message-box{\n    width: 600px;\n}\n.el-message-box__content {\n    min-height: 300px;\n    height: 500px;\n    overflow-y: scroll;\n    word-wrap: break-word;\n    word-break: break-all;\n}\n","",{version:3,sources:["E:/doclever_mlz/Client/web/controller/testpoll/component/statistics.vue?fd7353b6"],names:[],mappings:";AA6HA;IACA,kBAAA;CACA;AACA;IACA,YAAA;IACA,cAAA;IACA,eAAA;IACA,0BAAA;IACA,oBAAA;IACA,yBAAA;IACA,mBAAA;IACA,mEAAA;IACA,wBAAA;CACA;AACA;IACA,0BAAA;CACA;AACA;IACA,uBAAA;IACA,aAAA;IACA,mBAAA;IACA,yBAAA;CACA;AACA;IACA,yBAAA;CACA;AACA;IACA,yBAAA;CACA;AACA;IACA,mBAAA;IACA,mEAAA;IACA,wBAAA;CACA;AAEA;IACA,YAAA;IACA,YAAA;CACA;AACA;IACA,0BAAA;IACA,YAAA;CACA;AACA;IACA,WAAA;IACA,gBAAA;CACA;AACA;IACA,2BAAA;CACA;AACA;IACA,aAAA;CACA;AACA;IACA,kBAAA;IACA,cAAA;IACA,mBAAA;IACA,sBAAA;IACA,sBAAA;CACA",file:"statistics.vue",sourcesContent:['<template>\r\n    <el-row class="row" id="content">\r\n        <h2><span style="font-size:80%;font-weight:normal;">自动化测试统计</span></h2>\r\n        <el-row class="row" style="height:40px;line-height: 40px;padding-left: 10px;font-size: 14px;color: #17B9E6">\r\n\t\t\t<el-button type="primary" size="mini" style="float: right;margin-right: 10px;margin-top: 5px" @click.native="query">\r\n\t\t\t\t查询\r\n\t\t\t</el-button>\r\n\t\t</el-row>\r\n\t\t\r\n\t\t<el-form label-position="top" label-width="80px" style="padding: 10px 20px 20px 10px" id="form-info">\r\n            <el-row class="row">\r\n                <el-col class="col" :span="4">\r\n                   选择定时任务:\r\n                </el-col>\r\n                <el-col class="col" :span="8">\r\n                     <el-cascader size="mini" style="width: 95%" expand-trigger="hover" :options="testPollArr" v-model="selPoll" @change="changePoll" placeholder="请切换定时任务">\r\n                    </el-cascader>\r\n                </el-col>\r\n\t\t\t\t<el-col class="col" :span="4">\r\n                   选择周期:\r\n                </el-col>\r\n                <el-col class="col" :span="8">\r\n                     <el-date-picker size="mini" style="width: 95%" \r\n\t\t\t\t\t  v-model="periodDate"\r\n\t\t\t\t\t  type="daterange"\r\n\t\t\t\t\t  range-separator="至"\r\n\t\t\t\t\t  start-placeholder="开始日期"\r\n\t\t\t\t\t  end-placeholder="结束日期" :default-time="[\'00:00:00\', \'23:59:59\']">\r\n\t\t\t\t\t</el-date-picker>\r\n                </el-col>\r\n            </el-row>\r\n\t\t</el-form>\r\n\t\t\r\n\t\t<table class="table box-shadow">\r\n            <thead>\r\n                <tr>\r\n                    <th style="width:100px;">定时任务</th>\r\n                    <th style="width:200px;">周期</th>\r\n                    <th style="width:200px;">统计结果</th>\r\n                    <th style="width:55px;">操作</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody id="testinfo">\r\n\t\t\t\t<tr v-for="(item,index) in arr" :key="index">\r\n                    <td>{{item.name||"null"}}</td>\r\n                    <td>{{item.name||"null"}}</td>\r\n                    <td>{{item.name||"null"}}</td>\r\n                    <td>{{item.name||"null"}}</td>\r\n                </tr>\r\n\t\t\t</tbody>\r\n        </table>\r\n        <div class="clear"></div>\r\n            \x3c!--            \r\n        <table class="table box-shadow">\r\n            <thead>\r\n                <tr>\r\n                    <th style="width:55px;">顺序</th>\r\n                    <th style="width:200px;">测试模块/业务</th>\r\n                    <th style="width:200px;">测试用例</th>\r\n                    <th style="width:55px;">状态</th>\r\n                    <th style="">接口运行详情</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody id="testinfo">\r\n\t\t\t\t\r\n\t\t\t\t<tr style="text-align: center;vertical-align: middle">\r\n                    <td colspan="5">\r\n                        <page @change="changePage" ref="page" :total="totalPages" :numofpage="numOfPage"></page>\r\n                    </td>\r\n                </tr>\r\n\t\t\t\t\r\n                <tr v-for="(item,index) in runTestLists" :key="index">\r\n                    <td>{{item.testOrder?item.testOrder:\'-\'}}</td>\r\n                     <td>{{item.testModule}}/{{item.testGroup}}</td>\r\n                    <td>\r\n                        <span class="testname" @click="showOutput(item)">\r\n                            {{item.testName}}\r\n                        </span>\r\n                    </td>\r\n                    <td>\r\n                        <span v-if="item.status==0" style="color: gray"><i class="el-icon-question"></i>未知</span> \r\n                        <span v-else-if="item.status==1" style="color: green"><i class="el-icon-success"></i>成功</span> \r\n                        <span v-else-if="item.status==2" style="color: red"><i class="el-icon-error"></i>失败</span> \r\n                        <span v-else-if="item.status==99"><i class="el-icon-loading"></i>运行中</span> \r\n                         <span v-else style="color: gray"><i class="el-icon-question"></i>未知</span> \r\n                    </td>\r\n                    <td>\r\n                        <table class="table table-light">\r\n                            <tbody>\r\n                                <tr v-for="(inter,index) in item.interfaces" :key="index" style="font-size:14px;">\r\n                                    <td class="line-num">{{index+1}}</td>\r\n                                    <td style="text-align:left;word-break: break-all;">\r\n                                        <u>{{inter.interBaseUrl}}{{inter.interPath}}</u>\r\n                                        <span v-if="inter.runTime">（耗时:<span style="color:green;">{{inter.runTime}}</span>秒）</span>\r\n                                        <span v-if="inter.errMessage">（<span style="color:red;">{{inter.errMessage}}</span>）</span>\r\n                                    </td>\r\n                                    <td style="width:32px;">\r\n                                    <span v-if="inter.result.status" :style="{color:inter.result.status==\'200\'?\'green\':\'red\'}">{{inter.result.status}}</span>\r\n                                    </td>\r\n                                    <td style="width:32px;font-size:12px;">\r\n                                        <span @click="showDetails(inter)">详情</span>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                            \r\n                        </table>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n            <tfoot>\r\n                <tr style="text-align: center;vertical-align: middle">\r\n                    <td colspan="5">\r\n                        <page @change="changePage" ref="page" :total="totalPages" :numofpage="numOfPage"></page>\r\n                    </td>\r\n                </tr>\r\n            </tfoot>\r\n        </table> \r\n\t\t--\x3e\r\n    </el-row>\r\n   \r\n</template>\r\n\r\n<style>\r\n    \r\n    \r\n    #content{\r\n        padding:10px 20px;\r\n    }\r\n    .table{\r\n        width: 100%;\r\n        padding: 10px;\r\n        display: table;\r\n        border-collapse: collapse;\r\n        border-spacing: 2px;\r\n        border:1px solid #cccccc;\r\n        border-radius: 5px;\r\n        box-shadow: 0 2px 4px 0 rgba(0,0,0,.12), 0 0 6px 0 rgba(0,0,0,.04);\r\n        background-color: white;\r\n    }\r\n    .table th{\r\n        background-color: #E0EEEE;\r\n    }\r\n    .table th,.table td{\r\n        vertical-align: middle;\r\n        padding: 5px;\r\n        text-align: center;\r\n        border:1px solid #cccccc;\r\n    }\r\n    .table-light{\r\n        border:1px solid #eeeeee;\r\n    }\r\n    .table-light th,.table-light td{\r\n        border:1px solid #eeeeee;\r\n    }\r\n    .box-shadow{\r\n        border-radius: 5px;\r\n        box-shadow: 0 2px 4px 0 rgba(0,0,0,.12), 0 0 6px 0 rgba(0,0,0,.24);\r\n        background-color: white;\r\n    }\r\n    \r\n    .clear{\r\n        height:20px;\r\n        clear: both;\r\n    }\r\n    .line-num{\r\n        background-color: #eeeeee;\r\n        width: 15px;\r\n    }\r\n    .testname{\r\n        color:blue;\r\n        cursor: pointer;\r\n    }\r\n    .testname:hover{\r\n        text-decoration: underline;\r\n    }\r\n    .el-message-box{\r\n        width: 600px;\r\n    }\r\n    .el-message-box__content {\r\n        min-height: 300px;\r\n        height: 500px;\r\n        overflow-y: scroll;\r\n        word-wrap: break-word;\r\n        word-break: break-all;\r\n    }\r\n</style>\r\n\r\n<script>\r\n    var page=require("component/pageCompo.vue");\r\n    module.exports={\r\n        props:["info"],\r\n        data:function () {\r\n            return {\r\n\t\t\t\tperiodDate:"",\r\n\t\t\t\tselPoll:"",\r\n\t\t\t\tpollList:[{"name":"test1","_id":"111"},{"name":"test2","_id":"222"}],\r\n\t\t\t\t\r\n                arr:[],\r\n\t\t\t\t\r\n\t\t\t\tnumOfPage:20\r\n            }\r\n        },\r\n        directives:{\r\n            \r\n        },\r\n        computed:{\r\n\t\t\ttestPollArr:function(){\r\n                var newList=this.pollList.map(function (obj) {\r\n                    \r\n                    var projObj={\r\n                                    label:obj.name,\r\n                                    value:obj._id\r\n                                }\r\n\r\n                    return projObj\r\n                });\r\n                return newList\r\n            }\r\n\t\t\t/*\r\n\t\t\ttotalPages:function(){\r\n\t\t\t\tvar total=Math.ceil(this.info.testTotal/this.numOfPage);\r\n\t\t\t\tconsole.log("report.vue>computed:>total pages:")\r\n\t\t\t\tconsole.log(total)\r\n\t\t\t\treturn total\r\n\t\t\t}*/\r\n            // runTestLists:function () {\r\n            //     console.log("report.vue>this.tests")\r\n            //     console.log(this.tests)\r\n            //     return this.tests;\r\n            // },\r\n        },\r\n\t\tcomponents:{\r\n            "page":page\r\n        },\r\n        methods:{\r\n            changePoll:function(){\r\n\t\t\t\tconsole.log("statistics.vue>changePoll>this.selPoll")\r\n\t\t\t\tconsole.log(this.selPoll)\r\n\t\t    },\r\n           changePage:function (page) {\r\n                $.startHud();\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t/*\r\n\t\t\t\tlet query={\r\n\t\t\t\t\t\t\tid:_this.runId,\r\n\t\t\t\t\t\t\tpage:page\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\tnet.get("/poll/runinfotests",query).then(function (data) {\r\n\t\t\t\t\tconsole.log("statistics.vue>runTestLists");\r\n\t\t\t\t\tif(data.code==200)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t_this.runTestLists=data.data\r\n\t\t\t\t\t\tconsole.log("statistics.vue>_this.runTestLists(page)")\r\n\t\t\t\t\t\tconsole.log("page="+page)\r\n\t\t\t\t\t\tconsole.log(_this.runTestLists)\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$.notify(data.msg,0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$.stopLoading();\r\n\t\t\t\t\t$.stopHud();\r\n\t\t\t\t}).catch(function (err) {\r\n\t\t\t\t\t$.stopLoading();\r\n\t\t\t\t\t$.stopHud();\r\n\t\t\t\t\t$.notify(err,0);\r\n\t\t\t\t})\r\n\t\t\t\t*/\r\n                \r\n            },\r\n\t\t\t\r\n\t\t\tquery:function(){\r\n\t\t\t\tconsole.log("statistics.vue>query>this.periodDate")\r\n\t\t\t\tconsole.log(this.periodDate)\r\n\t\t\t\t\r\n\t\t\t\tconsole.log("statistics.vue>query>this.selPoll")\r\n\t\t\t\tconsole.log(this.selPoll)\r\n\t\t\t\t$.startHud();\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t/*\r\n\t\t\t\tlet query={\r\n\t\t\t\t\t\t\tperiod:_this.runId,\r\n\t\t\t\t\t\t\tpage:page\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\tnet.get("/poll/runinfotests",query).then(function (data) {\r\n\t\t\t\t\tconsole.log("statistics.vue>runTestLists");\r\n\t\t\t\t\tif(data.code==200)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t_this.runTestLists=data.data\r\n\t\t\t\t\t\tconsole.log("statistics.vue>_this.runTestLists(page)")\r\n\t\t\t\t\t\tconsole.log("page="+page)\r\n\t\t\t\t\t\tconsole.log(_this.runTestLists)\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$.notify(data.msg,0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$.stopLoading();\r\n\t\t\t\t\t$.stopHud();\r\n\t\t\t\t}).catch(function (err) {\r\n\t\t\t\t\t$.stopLoading();\r\n\t\t\t\t\t$.stopHud();\r\n\t\t\t\t\t$.notify(err,0);\r\n\t\t\t\t})\r\n\t\t\t\t*/\r\n\t\t    },\r\n        },\r\n        created:function () {\r\n\t\t/*\r\n            var id=getUrlParam("id");\r\n\r\n            var _this=this;\r\n            let query={\r\n\t\t\t\t\t\t\tid:id,\r\n\t\t\t\t\t\t\tpage:0\r\n\t\t\t\t\t\t\t}\r\n            net.get("/poll/runinfotests",query).then(function (data) {\r\n                console.log("report.vue>runTestLists");\r\n                if(data.code==200)\r\n                {\r\n                    _this.runTestLists=data.data\r\n                    console.log("report.vue>_this.runTestLists")\r\n                    console.log(_this.runTestLists)\r\n                }\r\n                else\r\n                {\r\n                    $.notify(data.msg,0)\r\n                }\r\n                $.stopLoading();\r\n            }).catch(function (err) {\r\n                $.stopLoading();\r\n                $.stopHud();\r\n                $.notify(err,0);\r\n            })*/\r\n        }\r\n    }\r\n<\/script>'],sourceRoot:""}])},826:function(t,n,e){e(1039);var r=e(0)(e(646),e(969),null,null);r.options.__file="E:\\doclever_mlz\\Client\\web\\controller\\testpoll\\component\\statistics.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] statistics.vue: functional components are not supported with templates, they should use render functions."),t.exports=r.exports},969:function(t,n,e){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("el-row",{staticClass:"row",attrs:{id:"content"}},[e("h2",[e("span",{staticStyle:{"font-size":"80%","font-weight":"normal"}},[t._v("自动化测试统计")])]),t._v(" "),e("el-row",{staticClass:"row",staticStyle:{height:"40px","line-height":"40px","padding-left":"10px","font-size":"14px",color:"#17B9E6"}},[e("el-button",{staticStyle:{float:"right","margin-right":"10px","margin-top":"5px"},attrs:{type:"primary",size:"mini"},nativeOn:{click:function(n){return t.query(n)}}},[t._v("\n\t\t\t\t查询\n\t\t\t")])],1),t._v(" "),e("el-form",{staticStyle:{padding:"10px 20px 20px 10px"},attrs:{"label-position":"top","label-width":"80px",id:"form-info"}},[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:4}},[t._v("\n                   选择定时任务:\n                ")]),t._v(" "),e("el-col",{staticClass:"col",attrs:{span:8}},[e("el-cascader",{staticStyle:{width:"95%"},attrs:{size:"mini","expand-trigger":"hover",options:t.testPollArr,placeholder:"请切换定时任务"},on:{change:t.changePoll},model:{value:t.selPoll,callback:function(n){t.selPoll=n},expression:"selPoll"}})],1),t._v(" "),e("el-col",{staticClass:"col",attrs:{span:4}},[t._v("\n                   选择周期:\n                ")]),t._v(" "),e("el-col",{staticClass:"col",attrs:{span:8}},[e("el-date-picker",{staticStyle:{width:"95%"},attrs:{size:"mini",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:t.periodDate,callback:function(n){t.periodDate=n},expression:"periodDate"}})],1)],1)],1),t._v(" "),e("table",{staticClass:"table box-shadow"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"100px"}},[t._v("定时任务")]),t._v(" "),e("th",{staticStyle:{width:"200px"}},[t._v("周期")]),t._v(" "),e("th",{staticStyle:{width:"200px"}},[t._v("统计结果")]),t._v(" "),e("th",{staticStyle:{width:"55px"}},[t._v("操作")])])]),t._v(" "),e("tbody",{attrs:{id:"testinfo"}},t._l(t.arr,function(n,r){return e("tr",{key:r},[e("td",[t._v(t._s(n.name||"null"))]),t._v(" "),e("td",[t._v(t._s(n.name||"null"))]),t._v(" "),e("td",[t._v(t._s(n.name||"null"))]),t._v(" "),e("td",[t._v(t._s(n.name||"null"))])])}))]),t._v(" "),e("div",{staticClass:"clear"})],1)},staticRenderFns:[]},t.exports.render._withStripped=!0}},[1059]);